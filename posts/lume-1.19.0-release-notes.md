---
title: Lume 1.19.0 release notes
date: 2023-09-21T18:25:59.387Z
author: Ã“scar Otero
draft: true
tags:
  - Releases
---

Lume 1.19.0 was released and this will be the last minor version of 1.x before
the incoming Lume 2. This is a summary of the changes and new features.

<!-- more -->

## Favicon plugin

The favicon is a not-so-simple task we have to do every time we build a new
website, because there are different formats, sizes, resolutions, etc. The new
`favicon` plugin was created to make it more simple.

You only have to specify an input file (by default `favicon.svg`) and the plugin
automatically creates the files `/favicon.ico`, `/favicon-16.png`,
`/favicon-32.png` and `/apple-touch-icon.png` and adds the `<link>` elements
needed in all HTML pages.

As any other Lume plugin, the installation can't be easier: just import the
plugin and use it:

```ts
import lume from "lume/mod.ts";
import favicon from "lume/plugins/favicon.ts";

const site = lume();
site.use(favicon());

export default site;
```

## Read info plugin

This plugin was created by [Jrson](https://github.com/jrson83) and available in
the
[experimental plugins repo](https://github.com/lumeland/experimental-plugins)
since a time ago, under the name `reading_time`. It's a simple plugin to
calculate the time required to read the content of a page.

Due the plugin is being used in several projects (among them, this blog), it was
moved to Lume repo and renamed to `read_info`. The reason of the new name is the
plugin not only returns the time, but also other interesting info like the
number of words. Maybe we can include more interesting info in the future, let
me know your suggestions.

It uses the
[`Int.Segmenter`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Intl/Segmenter)
standard function to count the words, using the page variable `lang` to detect
the language. The data is stored in the variable `readingInfo`, so you can use
it in your templates in this way:

```vento
<h1>{{ title }}</h1>
<p>{{ readingInfo.words }} words / {{ readingInfo.minutes }} min read</p>
```

## New functions to `site` instance

### mergeKey

Lume allows to customize the way some keys are merged with the variable
`mergedKeys`. You can see a
[detailed explanation of this feature](https://lume.land/docs/core/merged-keys/)
in the documentation.

The function `site.mergeKey()` allows to define this value in the _config.ts
file, which is more useful specially for plugins that register new merge
strategies for some keys automatically.

For example, let's say you want to merge the keys `categories` using the
`stringArray` strategy:

```ts
site.mergeKey("categories", "stringArray");
```

### page

The `site.page()` function allows to create new pages dynamically from the
`_config.ts` file, without having a page file in the disk. You only have to set
the data object of the page, for example:

```ts
site.page(
  {
    url: "/about-me/",
    layout: "about-page.njk",
    content: "Hello, my name is Ã“scar",
  },
);
```

By default, the context of the page is the root directory (`/`), so any shared
data defined in `_data` files/folders is accessible to this page. You can change
the scope of the page in the second argument:

```ts
site.page(
  {
    url: "/about-me/",
    layout: "about-page.njk",
    content: "Hello, my name is Ã“scar",
  },
  "/pages",
);
```

Now the page is scoped to the `/pages` directory, so it can access to the date
stored in the `/pages/_data.yml` file, for example.

## Upgrade pagefind to v1.0

The great [Pagefind](https://pagefind.app/) library, used by the
[pagefind plugin](https://lume.land/plugins/pagefind/) is now 1.0ðŸŽ‰. This new
version brings
[new awesome features](https://github.com/CloudCannon/pagefind/releases/tag/v1.0.0),
but also some changes:

- The `binary` option was removed. The plugin use the `npm` version that
  downloads the binary automatically in the Deno cache folder. No more `_bin`
  folders!
- The option `indexing.bundleDirectory` was renamed to `outputPath`.
- Added the option `customRecords` that allows to add additional records to the
  pagefind database in addition to those generated by the output pages.

## More features

- The `picture` plugin now supports the `sizes` attribute.
- The `sitemap` plugin supports multilanguage sites (using the `multilanguage`
  plugin).
- Removed some unnecessary twitter meta tags created by the `metas` plugin.
- The `minify_html` plugin now works online. Previously it downloaded the wasm
  file every time it was called. Now the file is cached the first time is
  downloaded.

See the
[CHANGELOG.md file](https://github.com/lumeland/lume/blob/v1.19.0/CHANGELOG.md)
for the full list of changes.
